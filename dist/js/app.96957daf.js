(function(t){function e(e){for(var i,r,o=e[0],c=e[1],l=e[2],d=0,v=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&v.push(n[r][0]),n[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(v.length)v.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(i=!1)}i&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},n={app:0},s=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.$store.state.displayHeader?a("Header"):t._e(),a("router-view")],1)},s=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"menu"},[a("ul",{staticClass:"menu__container container"},[a("router-link",{attrs:{to:"/"}},[a("li",{staticClass:"menu__icon"},[a("i",{staticClass:"icon-explore"})])]),a("router-link",{attrs:{to:"/About"}},[a("li",{staticClass:"menu__icon"},[a("i",{staticClass:"icon-bag"})])]),a("router-link",{attrs:{to:"/User"}},[a("li",{staticClass:"menu__icon"},[a("i",{staticClass:"icon-user"})])])],1)])},o=[],c=a("2877"),l={},u=Object(c["a"])(l,r,o,!1,null,null,null),d=u.exports,v=(a("d3b7"),a("159b"),a("4de4"),a("1212")),h={methods:{obtenerViajes:function(){var t=this;fetch(this.$store.state.URL_API,{headers:{Authorization:"Bearer keypFgW9ql6PGevJQ"}}).then((function(t){return t.json()})).then((function(e){return t.$store.state.viajes=e.records})).then((function(){return t.today()})).then((function(){return t.repartirViajes()})).then((function(){return t.verViajes()}))},today:function(){var t=this;this.$store.state.viajes.forEach((function(e){var a=new Date,i=a.getDate(),n=new Date(e.fields.FechaViajeInicio),s=n.getDate();i===s?e.fields.Estado="Presente":2020===n.getFullYear()?e.fields.Estado="Sin fecha":Object(v["a"])(new Date(n.getFullYear(),n.getMonth()+1,n.getDate()),new Date(a.getFullYear(),a.getMonth()+1,a.getDate()))?e.fields.Estado="Futuro":e.fields.Estado="Pasado",t.actualizarEstado(e.id,e.fields.Estado)}))},actualizarEstado:function(t,e){fetch(this.$store.state.URL_UPDATE,{headers:{Authorization:this.$store.state.Authorization,"Content-type":"application/json"},method:"PATCH",body:JSON.stringify({records:[{id:t,fields:{Estado:e}}]})})},repartirViajes:function(){this.$store.state.viajesPasados=this.$store.state.viajes.filter((function(t){return"Pasado"===t.fields.Estado})),this.$store.state.viajesFuturos=this.$store.state.viajes.filter((function(t){return"Futuro"===t.fields.Estado})),this.$store.state.viajesPresentes=this.$store.state.viajes.filter((function(t){return"Presente"===t.fields.Estado})),this.$store.state.viajesSinFechas=this.$store.state.viajes.filter((function(t){return"Sin fecha"===t.fields.Estado}))},verViajes:function(){0!==this.$store.state.viajesSinFechas.length&&this.$store.commit("noDateATrue"),0!==this.$store.state.viajesPasados.length&&this.$store.commit("pasatATrue")}}},f={name:"Main",components:{Header:d},mounted:function(){0===this.$store.state.viajes.length&&this.obtenerViajes()},mixins:[h]},m=f,p=Object(c["a"])(m,n,s,!1,null,null,null),_=p.exports,b=a("8c4f"),y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("TravelMessage"),a("TravelFuture"),a("NewTravel"),t.$store.state.displayNoDate?a("TravelNoDate"):t._e(),t.$store.state.displayPasat?a("TravelPasat"):t._e()],1)},g=[],A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return 0===t.$store.state.viajesPresentes.length?a("section",{staticClass:"travel"},[t._m(0),t._m(1)]):a("section",{staticClass:"travel"},[t._m(2),t._m(3),a("travelGo")],1)},C=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"travel__container container"},[a("div",{staticClass:"travel__title"},[a("h1",[t._v("Hola Usuario,")]),a("h1",[t._v("Organiza tu nuevo "),a("br"),t._v(" viaje")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"travel__back"},[a("div",{staticClass:"travel__back-men "},[a("img",{attrs:{src:"img/hombreSentado.png",alt:"Hombre Sentado"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"travel__container container"},[a("div",{staticClass:"travel__title"},[a("h1",[t._v("Hola Usuario,")]),a("h1",[t._v("Ya está todo planeado "),a("br"),t._v(" ¡Vámonos!")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"travel__back"},[a("div",{staticClass:"travel__back-img"},[a("img",{attrs:{src:"img/llamadacorriendo.png",alt:"llamada corriendo"}})])])}],$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"travel__now container"},[t._m(0),t._l(t.$store.state.viajesPresentes,(function(e){return a("div",{key:e.id,staticClass:"travel__big-card",on:{click:function(a){return t.$router.push({name:"TravelSingle",params:{travelId:e.id}})},touchstart:function(e){return t.pulsarSlide()},touchend:function(e){return t.despulsarSlide()}}},[a("div",{staticClass:"travel__bc-img",style:"background-image:url("+e.fields.Imagen[0].url+")"}),a("div",{staticClass:"travel__bc-footer"},[a("div",{staticClass:"travel__bc-text"},[a("h3",[t._v(t._s(e.fields.NombreViaje))]),a("p",{staticStyle:{"text-transform":"capitalize"}},[t._v(t._s(t.formatearFecha(e.fields.FechaViajeInicio)))])]),t._m(1,!0)])])})),t.abrirAcciones()?a("Actions"):t._e()],2)},I=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"travel__subtitle"},[a("h3",[t._v(" En marcha")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"travel__bc-location"},[a("a",{attrs:{href:"#"}},[a("i",{staticClass:"icon-map-location"})])])}],j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"actions",class:{actions__noshow:t.$store.state.displayActions}},[t._m(0),a("section",{staticClass:"actions__body"},[a("div",{staticClass:"actions__duo"},[a("button",{staticClass:"actions__ind",on:{click:function(e){return t.borrarViaje()}}},[a("i",{staticClass:"icon-trash"}),a("h3",[t._v("Eliminar")])]),t._m(1)]),t._m(2)]),a("section",{staticClass:" formu__btn container"},[a("button",{staticClass:"btn-outline",on:{click:function(e){return t.cerrarAcciones()}}},[t._v(" Hecho ")])])])},T=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"actions__header"},[a("div",{staticClass:"header"},[a("div",{staticClass:"header__title"},[a("h3",[t._v("Acciones")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"actions__ind"},[a("i",{staticClass:"icon-copy"}),a("h3",[t._v("Duplicar")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"actions__ind"},[a("i",{staticClass:"icon-refresh"}),a("h3",[t._v("Reiniciar maleta")])])}],E=(a("99af"),{name:"Actions",props:{travelId:String},methods:{borrarViaje:function(){var t=this;fetch(this.$store.state.URL_DELETE.concat(this.travelId),{headers:{Authorization:this.$store.state.Authorization},method:"DELETE"}).then((function(t){return t.json()})),this.$store.state.viajes=this.$store.state.viajes.filter((function(e){return e.id!==t.travelId})),this.repartirViajes(),this.cerrarAcciones()},cerrarAcciones:function(){var t=this,e=document.querySelectorAll(".actions");e.forEach((function(){t.$store.commit("actionsOFF"),setTimeout((function(){t.$store.commit("restoreCrono")}),500)}))}},mixins:[h]}),O=E,S=Object(c["a"])(O,j,T,!1,null,null,null),D=S.exports,q={methods:{pulsarSlide:function(){this.$store.commit("actionsON"),this.accionesEditar=!0,this.intervaloEditar=setInterval(this.mientrasEstoyPulsado,1e3)},mientrasEstoyPulsado:function(){this.accionesEditar&&(this.sumaUnSegundo(),console.log("Botón pulsado"))},despulsarSlide:function(){console.log("Botón soltado"),this.accionesEditar=!1,clearInterval(this.intervaloEditar)},abrirAcciones:function(){return this.cronometro>=.75&&(this.despulsarSlide(),!0)}}},P=a("436a"),k=a("5dea"),F=a("3d23"),x={name:"TravelGO",components:{Actions:D},mixins:[q],methods:{formatearFecha:function(t){return Object(P["a"])(Object(k["a"])(new Date(t),0),new Date,{locale:F["es"]})}}},N=x,w=Object(c["a"])(N,$,I,!1,null,null,null),z=w.exports,L={name:"TravelMessage",components:{travelGo:z}},H=L,M=Object(c["a"])(H,A,C,!1,null,null,null),U=M.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),0!==t.$store.state.viajesFuturos.length?a("div",{staticClass:"travel__container-card travel__wrap container"},t._l(t.$store.state.viajesFuturos,(function(t){return a("Card",{key:t.id,attrs:{id:t.id}})})),1):a("div",{staticClass:"container"},[a("p",[t._v("No tienes viajes previsto aún")]),a("p",[t._v("Crea uno nuevo y organiza hasta cuando tienes que ir al baño")])])])},R=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"travel__future container"},[a("div",{staticClass:"travel__subtitle"},[a("h2",[t._v("Futuros")])])])}],B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"travel__small-card",on:{click:function(e){return t.$router.push({name:"TravelSingle",params:{travelId:t.id}})},touchstart:function(e){return t.pulsarSlide()},touchend:function(e){return t.despulsarSlide()}}},[a("div",{staticClass:"travel__sc-img",style:"background-image:url("+t.imagen+")"}),a("div",{staticClass:"travel__sc-footer"},[a("div",{staticClass:"travel__bc-text"},[a("h4",[t._v(t._s(t.nombre))]),a("p",{staticStyle:{"text-transform":"capitalize"}},[t._v(t._s(t.formatearFecha(t.fecha)))])])])]),t.abrirAcciones()?a("Actions",{attrs:{travelId:t.id}}):t._e()],1)},G=[],J={name:"Card",props:{id:String},data:function(){return{cronometro:0}},computed:{obtenerTravel:function(){var t=this;return this.$store.state.viajes.filter((function(e){return e.id===t.id}))[0].fields},nombre:function(){return this.obtenerTravel.NombreViaje},imagen:function(){return this.obtenerTravel.Imagen[0].url},fecha:function(){return this.obtenerTravel.FechaViajeInicio},cronoCero:function(){return this.$store.state.restoreCronometro}},components:{Actions:D},mixins:[q],methods:{sumaUnSegundo:function(){this.cronometro=this.cronometro+1},formatearFecha:function(t){return Object(P["a"])(Object(k["a"])(new Date(t),0),new Date,{locale:F["es"]})}},watch:{cronoCero:function(){this.cronoCero&&(this.cronometro=0)}}},Y=J,W=Object(c["a"])(Y,B,G,!1,null,null,null),Z=W.exports,Q={name:"TravelFuture",components:{Card:Z}},X=Q,K=Object(c["a"])(X,V,R,!1,null,null,null),tt=K.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"travel__past container"},[t._m(0),a("div",{staticClass:"travel__container-card travel__wrap"},t._l(t.$store.state.viajesPasados,(function(t){return a("Card",{key:t.id,attrs:{id:t.id}})})),1)])])},at=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"travel__subtitle"},[a("h2",[t._v("Pasados")])])}],it={name:"TravelPasat",components:{Card:Z}},nt=it,st=Object(c["a"])(nt,et,at,!1,null,null,null),rt=st.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"travel__no-date container"},[t._m(0),a("div",{staticClass:"travel__container-card travel__wrap"},t._l(t.$store.state.viajesSinFechas,(function(t){return a("Card",{key:t.id,attrs:{id:t.id}})})),1)])])},ct=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"travel__subtitle"},[a("h2",[t._v("Sin fecha")])])}],lt={name:"TravelNoDate",components:{Card:Z}},ut=lt,dt=Object(c["a"])(ut,ot,ct,!1,null,null,null),vt=dt.exports,ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"travel__future container"},[a("div",{staticClass:"travel__btn"},[a("button",{staticClass:"btn-created",on:{click:function(e){return e.preventDefault(),t.crearNuevoViaje(e)}}},[a("i",{staticClass:"icon-add"}),t._v(" Crear nuevo viaje ")])])])},ft=[],mt={name:"NewTravel",mixins:[h],methods:{crearNuevoViaje:function(){var t=this;fetch("https://api.airtable.com/v0/app1Myyzo3nnkGOPj/Viajes",{headers:{Authorization:"Bearer keypFgW9ql6PGevJQ","Content-type":"application/json"},method:"POST",body:JSON.stringify({records:[{fields:{NombreViaje:"Sin titulo",Estado:"Sin fecha",Localizacion:"Localización del viaje",Imagen:[{url:"https://images.pexels.com/photos/5725589/pexels-photo-5725589.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260"}],FechaViajeInicio:"2020-01-01T15:01:07.798Z",FechaViajeFin:"2020-01-02T15:01:07.798Z"}}]})}).then((function(){return t.obtenerViajes()})).then((function(){return t.irAlNuevoViajeCreado()})),this.$router.push({name:"TravelSingle",params:{travelId:this.irAlNuevoViajeCreado()}})},irAlNuevoViajeCreado:function(){var t=this.$store.state.viajes.length-1;return this.$store.state.viajes[t].id}}},pt=mt,_t=Object(c["a"])(pt,ht,ft,!1,null,null,null),bt=_t.exports,yt={name:"Home",components:{TravelMessage:U,TravelFuture:tt,TravelPasat:rt,TravelNoDate:vt,NewTravel:bt},data:function(){return{}}},gt=yt,At=Object(c["a"])(gt,y,g,!1,null,null,null),Ct=At.exports,$t=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},It=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about container plan__container-activities"},[a("h1",[t._v("😀")]),a("h1",[t._v("Aqui iran las maletas en la Version 2 ")])])}],jt={},Tt=Object(c["a"])(jt,$t,It,!1,null,null,null),Et=Tt.exports,Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"travelSingle"},[a("BackBotton"),a("main",{staticClass:"single"},[a("TravelImage",{attrs:{TravelImageURL:t.imagen,TravelImageNombre:t.nombre}}),a("section",{staticClass:" container"},[a("div",{staticClass:"single-travel__header"},[a("TravelTitle",{attrs:{TravelTitle:t.nombre}})],1)]),a("section",{staticClass:"single-travel__organizer container"},[t._m(0),a("TravelLocation",{attrs:{travelLocation:t.localizacion}}),t._m(1),a("TravelDate",{attrs:{travelTitleDate:t.formatearFecha}}),t._m(2),a("TravelMoney",{attrs:{travelMoney:t.gastos}})],1)],1),a("PlantTravelButton",{attrs:{id:t.$route.params.travelId}})],1)},St=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"single-travel__icon"},[a("i",{staticClass:"icon-map-location"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"single-travel__icon"},[a("i",{staticClass:"icon-calendar"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"single-travel__icon"},[a("i",{staticClass:"icon-wallet"})])}],Dt=(a("25f0"),a("d81d"),a("cb29"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"btn__undo btn__undo-white",on:{click:function(e){return t.$router.go(-1)}}},[t._m(0)])}),qt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",[a("i",{staticClass:"icon-arrow-left"})])}],Pt={name:"Back"},kt=Pt,Ft=Object(c["a"])(kt,Dt,qt,!1,null,null,null),xt=Ft.exports,Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"single-travel__title"},[t.TravelTitle!==t.travelFalse?a("h1",{on:{click:function(e){t.travelFalse=t.TravelTitle,t.busqueda=t.TravelTitle,t.observador()}}},[t._v(" "+t._s(t.TravelTitle)+" ")]):a("form",{attrs:{name:"formulario",method:"post"}},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.busqueda,expression:"busqueda",modifiers:{trim:!0}}],staticClass:"single-travel__title-input",attrs:{type:"text",id:"inputTitle"},domProps:{value:t.busqueda},on:{blur:[function(e){t.travelFalse=!1},function(e){return t.$forceUpdate()}],change:function(e){return e.preventDefault(),t.actualizarTitle(t.$route.params.travelId,t.busqueda)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.actualizarTitle(t.$route.params.travelId,t.busqueda))},input:function(e){e.target.composing||(t.busqueda=e.target.value.trim())}}})])])},wt=[],zt={name:"TravelTitle",props:{TravelTitle:String},data:function(){return{travelFalse:!1,busqueda:""}},methods:{actualizarTitle:function(t,e){var a=this;this.travelFalse=!1,fetch(this.$store.state.URL_UPDATE,{headers:{Authorization:this.$store.state.Authorization,"Content-type":"application/json"},method:"PATCH",body:JSON.stringify({records:[{id:t,fields:{NombreViaje:e}}]})}).then((function(){return a.obtenerViajes()}))},focused:function(){this.travelFalse===this.TravelTitle&&document.getElementById("inputTitle").focus()},observar:function(){var t={root:null,rootMargin:"0px",threshold:1},e=new IntersectionObserver(this.focused,t);e.observe(document.querySelector("#inputTitle"))},observador:function(){setTimeout(this.observar,100)}},mixins:[h]},Lt=zt,Ht=Object(c["a"])(Lt,Nt,wt,!1,null,null,null),Mt=Ht.exports,Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"single-travel__img"},[a("img",{attrs:{src:t.TravelImageURL,alt:t.TravelImageNombre}}),a("button",{staticClass:"btn_changeImg",on:{click:function(e){t.$store.commit("optionsImgON"),t.$store.commit("actionsON")}}},[t._v(" Editar Imagen ")]),t.$store.state.displayOptionsImg?a("TravelImageOptions"):t._e()],1)},Vt=[],Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"actions",class:{actions__noshow:t.$store.state.displayActions}},[t._m(0),a("section",{staticClass:"actions__body"},[a("div",{staticClass:"actions__ind"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.busqueda,expression:"busqueda"}],attrs:{type:"search",placeholder:"Busca y selecciona una imagen"},domProps:{value:t.busqueda},on:{input:function(e){e.target.composing||(t.busqueda=e.target.value)}}})]),a("div",{staticClass:"actions__ind-img"},t._l(t.resultados,(function(e){return a("img",{key:e.webformatURL,staticClass:"actions__img",attrs:{src:e.webformatURL,alt:""},on:{click:function(a){t.actualizarImage(t.$route.params.travelId,e.webformatURL),t.cerrarAcciones()}}})})),0)]),a("section",{staticClass:" formu__btn container"},[a("button",{staticClass:"btn-outline",on:{click:function(e){return t.cerrarAcciones()}}},[t._v(" Hecho ")])])])},Bt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"actions__header"},[a("div",{staticClass:"header"},[a("div",{staticClass:"header__title"},[a("h3",[t._v("Editar Imagen")])])])])}],Gt={name:"OptionsImage",data:function(){return{busqueda:"",resultados:[]}},mixins:[h],methods:{actualizarImage:function(t,e){var a=this;fetch(this.$store.state.URL_UPDATE,{headers:{Authorization:this.$store.state.Authorization,"Content-type":"application/json"},method:"PATCH",body:JSON.stringify({records:[{id:t,fields:{Imagen:[{url:e}]}}]})}).then((function(){return a.obtenerViajes()}))},obtenerResultados:function(){var t=this;fetch("https://pixabay.com/api/?key=14581694-1e47b08e85369f5be7d24ef40&q=".concat(this.busqueda,"&per_page=20&lang=es")).then((function(t){return t.json()})).then((function(e){t.resultados=e.hits}))},cerrarAcciones:function(){var t=this,e=document.querySelectorAll(".actions");e.forEach((function(){t.$store.commit("actionsOFF"),setTimeout((function(){t.$store.commit("optionsImgOFF")}),1e3)}))}},watch:{busqueda:function(){this.obtenerResultados()}}},Jt=Gt,Yt=Object(c["a"])(Jt,Rt,Bt,!1,null,null,null),Wt=Yt.exports,Zt={name:"TravelImage",props:{TravelImageURL:String,TravelImageNombre:String},components:{TravelImageOptions:Wt},mixins:[q]},Qt=Zt,Xt=Object(c["a"])(Qt,Ut,Vt,!1,null,null,null),Kt=Xt.exports,te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"single-travel__fecha"},[a("date-picker",{attrs:{format:"DD/MM/YYYY",lang:t.lang,"disabled-date":t.disabledBeforeTodayAndAfterAWeek,type:"date",range:"",placeholder:t.travelTitleDate},on:{change:function(e){return t.actualizarFecha(t.$route.params.travelId)}},model:{value:t.travelDate,callback:function(e){t.travelDate=e},expression:"travelDate"}})],1)},ee=[],ae=a("ec45"),ie=(a("411c"),a("4375"),{name:"TravelDate",components:{DatePicker:ae["default"]},props:{travelTitleDate:String},data:function(){return{travelDate:[],lang:{formatLocale:{firstDayOfWeek:1},monthBeforeYear:!0},travelDateStart:"",travelDateEnd:"",travelDateEstate:""}},methods:{disabledBeforeTodayAndAfterAWeek:function(t){var e=new Date;return e.setHours(0,0,0,0),t<e||t>new Date(e.getTime()+31536e6)},today:function(){var t=new Date,e=t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear(),a=this.travelDate[0].getDate()+"/"+(this.travelDate[0].getMonth()+1)+"/"+this.travelDate[0].getFullYear();return this.travelDateEstate=e!==a?"Futuro":"Presente"},datesOrganized:function(){this.travelDateStart=this.travelDate[0],this.travelDateEnd=this.travelDate[1],this.today()},actualizarFecha:function(t){var e=this;this.datesOrganized(),fetch(this.$store.state.URL_UPDATE,{headers:{Authorization:this.$store.state.Authorization,"Content-type":"application/json"},method:"PATCH",body:JSON.stringify({records:[{id:t,fields:{FechaViajeInicio:this.travelDateStart,FechaViajeFin:this.travelDateEnd,Estado:this.travelDateEstate}}]})}).then((function(){return e.obtenerViajes()}))}},mixins:[h]}),ne=ie,se=Object(c["a"])(ne,te,ee,!1,null,null,null),re=se.exports,oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"single-travel__location"},[t.travelLocation!==t.travelFalse?a("span",{staticClass:"single-travel__location",on:{click:function(e){t.travelFalse=t.travelLocation,t.busqueda=t.travelLocation,t.observador()}}},[t._v(" "+t._s(t.travelLocation)+" ")]):a("form",{attrs:{name:"formulario",method:"post"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.busqueda,expression:"busqueda"}],staticClass:"single-travel__location-input",attrs:{type:"text",list:"items",id:"inputTitle"},domProps:{value:t.busqueda},on:{blur:function(e){t.travelFalse=!1},change:function(e){return t.comprobarTitle()},input:function(e){e.target.composing||(t.busqueda=e.target.value)}}}),a("datalist",{attrs:{id:"items"}},t._l(t.ciudades,(function(t){return a("option",{key:t.nombre,domProps:{value:t.place_name}})})),0)])])},ce=[],le={name:"travelLocation",props:{travelLocation:String},data:function(){return{travelFalse:!1,busqueda:"",ciudades:[]}},watch:{busqueda:function(){if(0===this.busqueda.length|""===this.busqueda|null===this.busqueda|void 0===this.busqueda)return this.busqueda="";this.obtenerLocalizaciones()}},methods:{comprobarTitle:function(){var t=this,e=this.ciudades.some((function(e){return e.place_name===t.busqueda}));if(e){var a=this.ciudades.filter((function(e){return e.place_name===t.busqueda}))[0].center[1];console.log(a);var i=this.ciudades.filter((function(e){return e.place_name===t.busqueda}))[0].center[0];console.log(i),this.actualizarlocation(this.$route.params.travelId,this.busqueda,a.toString(),i.toString())}},actualizarlocation:function(t,e,a,i){var n=this;this.travelFalse=!1,fetch(this.$store.state.URL_UPDATE,{headers:{Authorization:this.$store.state.Authorization,"Content-type":"application/json"},method:"PATCH",body:JSON.stringify({records:[{id:t,fields:{Localizacion:e,Longitud:a,Latitud:i}}]})}).then((function(){return n.obtenerViajes()}))},focused:function(){this.travelFalse===this.travelLocation&&document.getElementById("inputTitle").focus()},observar:function(){var t={root:null,rootMargin:"0px",threshold:1},e=new IntersectionObserver(this.focused,t);e.observe(document.querySelector("#inputTitle"))},observador:function(){setTimeout(this.observar,100)},obtenerLocalizaciones:function(){var t=this;fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(this.busqueda,".json?language=es&types=region,country&access_token=pk.eyJ1IjoicnVtb2FnIiwiYSI6ImNrbGkybHJ0MDA5M2EyeG5tZHl0dTZocDIifQ.5uMl_i2kS7adppX4xGvASw&autocomplete=true")).then((function(t){return t.json()})).then((function(e){t.ciudades=e.features}))}},mixins:[h]},ue=le,de=Object(c["a"])(ue,oe,ce,!1,null,null,null),ve=de.exports,he=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"single-travel__wall"},[t.travelMoney!==t.travelFalse?a("span",{staticClass:"single-travel__wallet",on:{click:function(e){t.travelFalse=t.travelMoney,t.busqueda=t.travelMoney,t.gastosCero(),t.observador()}}},[t._v(" "+t._s(t.travelMoney+" €")+" ")]):a("form",{attrs:{name:"formulario",method:"post"}},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.busqueda,expression:"busqueda",modifiers:{trim:!0}}],staticClass:"single-travel__wallet-input",attrs:{type:"text",id:"inputTitle",placeholder:"0.00 €"},domProps:{value:t.busqueda},on:{blur:[function(e){t.travelFalse=!1},function(e){return t.$forceUpdate()}],change:function(e){return e.preventDefault(),t.actualizarGastos(t.$route.params.travelId,t.busqueda)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.actualizarGastos(t.$route.params.travelId,t.busqueda))},input:function(e){e.target.composing||(t.busqueda=e.target.value.trim())}}})])])},fe=[],me=(a("5319"),a("ac1f"),a("a15b"),a("1276"),{name:"travelMoney",props:{travelMoney:String},data:function(){return{travelFalse:!1,busqueda:null}},methods:{dejarSoloNumeros:function(){return this.busqueda=this.busqueda.replace(/([^0-9.]+)/g,""),this.busqueda=this.busqueda.replace(/^[.]/,""),this.busqueda=this.busqueda.replace(/[.][.]/g,""),this.busqueda=this.busqueda.replace(/\.(\d)(\d)(\d)/g,".$1$2"),this.busqueda=this.busqueda.replace(/\.(\d{1,2})\./g,".$1"),this.busqueda=this.busqueda.toString().split("").reverse().join("").replace(/(\d{3})/g,"$1"),this.busqueda=this.busqueda.split("").reverse().join("").replace(/^[,]/,""),this.busqueda},actualizarGastos:function(t,e){var a=this;this.travelFalse=!1,fetch(this.$store.state.URL_UPDATE,{headers:{Authorization:this.$store.state.Authorization,"Content-type":"application/json"},method:"PATCH",body:JSON.stringify({records:[{id:t,fields:{Gastos:parseFloat(e)}}]})}).then((function(){return a.obtenerViajes()}))},focused:function(){this.travelFalse===this.travelMoney&&document.getElementById("inputTitle").focus()},observar:function(){var t={root:null,rootMargin:"0px",threshold:1},e=new IntersectionObserver(this.focused,t);e.observe(document.querySelector("#inputTitle"))},observador:function(){setTimeout(this.observar,100)},gastosCero:function(){null===this.busqueda||""===this.busqueda||"0.00"===this.busqueda||"Gastos del viaje"===this.busqueda?this.busqueda="":this.busqueda=this.travelMoney}},mixins:[h],watch:{busqueda:function(){this.dejarSoloNumeros()}}}),pe=me,_e=Object(c["a"])(pe,he,fe,!1,null,null,null),be=_e.exports,ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"single-travel__btn container"},[a("button",{staticClass:"btn-outline",on:{click:function(e){t.guardarTravelID(),t.$router.push({name:"TravelPlan",params:{travelId:t.id}})}}},[a("i",{staticClass:"icon-globe"}),t._v(" Plan para el viaje ")])])},ge=[],Ae={name:"PlanTravelButton",props:{id:String},methods:{guardarTravelID:function(){this.$store.state.IdTravel=this.$route.params.travelId}}},Ce=Ae,$e=Object(c["a"])(Ce,ye,ge,!1,null,null,null),Ie=$e.exports,je=a("b166"),Te=a("25b6"),Ee=a("2230"),Oe={name:"TravelSingle",components:{BackBotton:xt,TravelTitle:Mt,TravelImage:Kt,TravelDate:re,TravelLocation:ve,TravelMoney:be,PlantTravelButton:Ie},computed:{travelSingle:function(){var t=this;return this.$store.state.viajes.filter((function(e){return e.id===t.$route.params.travelId}))[0].fields},nombre:function(){return this.travelSingle.NombreViaje},imagen:function(){return this.travelSingle.Imagen[0].url},fechaInicio:function(){return this.travelSingle.FechaViajeInicio},fechaFin:function(){return this.travelSingle.FechaViajeFin},formatearFecha:function(){this.durationTravel();var t=Object(je["a"])(new Date(this.fechaInicio),"dd/MM/yyyy"),e=Object(je["a"])(new Date(this.fechaFin),"dd/MM/yyyy");return t+" ~ "+e},localizacion:function(){return this.travelSingle.Localizacion},gastos:function(){var t=this.travelSingle.Gastos;return void 0===t?"Gastos del viaje":t.toString()}},methods:{durationTravel:function(){var t=Object(Te["a"])({start:new Date(this.fechaInicio),end:new Date(this.fechaFin)}).days,e=Array(t+1).fill(new Date(this.fechaInicio)).map((function(t,e){return Object(je["a"])(Object(Ee["a"])(t,{days:e}),"dd/MM/yyyy")}));return this.$store.state.diasActividad=e}}},Se=Oe,De=Object(c["a"])(Se,Ot,St,!1,null,null,null),qe=De.exports,Pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("BackBottonBlack"),t._m(0),a("section",{staticClass:"plan"},[a("div",{staticClass:"plan__wrapper",style:"transform: translateX("+t.translate+")"},[a("div",{staticClass:"plan__container "},t._l(t.$store.state.diasActividad,(function(e,i){return a("div",{key:i},[a("div",{staticClass:"plan__day",attrs:{"data-day":i},on:{click:function(a){t.translateDay(i),t.pasarDia(e),t.activarClase(i),t.cambiarDiaInicial(i)}}},[a("div",{staticClass:"plan__text"},[a("h3",[t._v("Día "+t._s(i+1))]),a("p",[t._v(t._s(e))])])])])})),0)])]),0!==this.$store.state.activityDays.length?a("div",{staticClass:"plan__container-activities"},t._l(this.$store.state.activityDays,(function(e){return a("section",{key:e.id,staticClass:"plan__activitie-container container",on:{click:function(a){return t.$router.push({name:"ActivitySingle",params:{ActivityId:e.id}})}}},[a("div",{staticClass:"plan__activitie"},[a("h3",[t._v(t._s(e.fields.HoraInicio))]),a("div",{staticClass:"plan__card"},[a("div",{staticClass:"plan__icon"},[a("button",[t._v(" "+t._s(e.fields.Icono)+" ")])]),a("div",{staticClass:"plan__card-text"},[a("h4",[t._v(t._s(e.fields.NombreActividad))])])])])])})),0):a("div",{staticClass:"plan__container-activities plan__activitie-container "},[a("p",[t._v("No tienes actividades para este día")]),a("p",[t._v("Crea una nueva y organiza tu día a fondo")])]),a("NewActivity",{attrs:{diaActivo:t.diaActive}})],1)},ke=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"plan__header"},[a("div",{staticClass:"header"},[a("div",{staticClass:"header__title"},[a("h3",[t._v("Plan para el viaje")])])])])}],Fe={methods:{obtenerPlanes:function(){var t=this;fetch(this.$store.state.URL_API_PLANES,{headers:{Authorization:this.$store.state.Authorization}}).then((function(t){return t.json()})).then((function(e){return t.$store.state.planes=e.records})).then((function(){return t.verSiHayActividades()})).then((function(){return t.primerDiaAlCargar()}))},verSiHayActividades:function(){var t=this;this.$store.state.planesActividad=this.$store.state.planes.filter((function(e){return e.fields.Viajes[0]===t.$store.state.IdTravel}))},primerDiaAlCargar:function(){this.pasarDia(this.$store.state.diasActividad[this.$store.state.diaInicialActividades]),this.activarClase(this.$store.state.diaInicialActividades)},pasarDia:function(t){var e=this,a=t.split("/"),i=parseInt(a[2]),n=parseInt(a[1].split("0").join(""))-1,s=parseInt(a[0])-1;return this.diaActive=Object(je["a"])(new Date(i,n,s,22,0,0),"yyyy-MM-dd'T'HH:mm:ss.SSS")+"Z",this.$store.state.activityDays=this.$store.state.planesActividad.filter((function(a){return e.formatearDate(a)===t}))},formatearDate:function(t){var e=Object(je["a"])(new Date(t.fields.Dia),"dd/MM/yyyy");return e},activarClase:function(t){var e=document.querySelectorAll(".plan__day");e.forEach((function(e){e.classList.remove("plan__day-activo"),e.dataset.day===t.toString()&&e.classList.add("plan__day-activo")}))}}},xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"plan__activitie-container container",on:{click:function(e){return t.crearNuevaActividad(t.diaActivo)}}},[t._m(0)])},Ne=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"plan__activitie"},[a("div",{staticClass:"plan__new-card"},[a("div",{staticClass:"plan__icon"},[a("button",[t._v(" + ")])]),a("div",{staticClass:"plan__card-text"},[a("h4",[t._v("Añadir actividad")])])])])}],we={name:"NewActivity",props:{diaActivo:String},mixins:[Fe],methods:{crearNuevaActividad:function(t){var e=this;fetch(this.$store.state.URL_API_PLANES_CREATE,{headers:{Authorization:this.$store.state.Authorization,"Content-type":"application/json"},method:"POST",body:JSON.stringify({records:[{fields:{NombreActividad:"Sin titulo",HoraInicio:"Hora de inicio",HoraFIn:"23:59",Comentario:"Nota o comentario",GastoActividad:"Gastos",Dia:t,Viajes:[this.$route.params.travelId],Icono:"😀"}}]})}).then((function(){return e.obtenerPlanes()}))}}},ze=we,Le=Object(c["a"])(ze,xe,Ne,!1,null,null,null),He=Le.exports,Me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"btn__undo",on:{click:function(e){return t.$router.go(-1)}}},[t._m(0)])},Ue=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",[a("i",{staticClass:"icon-arrow-left"})])}],Ve={name:"BackBlack"},Re=Ve,Be=Object(c["a"])(Re,Me,Ue,!1,null,null,null),Ge=Be.exports,Je={name:"TravelSingle",data:function(){return{diaActive:"",translate:""}},components:{BackBottonBlack:Ge,NewActivity:He},mounted:function(){0===this.$store.state.planesActividad.length?this.obtenerPlanes():this.primerDiaAlCargar()},methods:{cambiarDiaInicial:function(t){this.$store.state.diaInicialActividades=t},translateDay:function(t){this.translate=0===t?0:-9.5*t+9.5+"rem"}},mixins:[Fe]},Ye=Je,We=Object(c["a"])(Ye,Pe,ke,!1,null,null,null),Ze=We.exports,Qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("BackBottonBlack"),a("ActivityOptions",{attrs:{ActivityId:this.$route.params.ActivityId}}),a("header",[a("div",{staticClass:"header"},[a("div",{staticClass:"header__title"},[a("h3",[t._v(t._s(t.nombre))])])])]),a("section",{staticClass:"activitie"},[a("div",{staticClass:"activitie__container container"},[a("ActivityIcon",{attrs:{icono:t.icono}}),a("ActivityTitle",{attrs:{ActivityTitle:t.nombre}}),a("div",{staticClass:"activitie__info"},[a("ActivityHoraInicio",{attrs:{HoraInicio:t.horaInicio}}),a("ActivityDuration",{attrs:{HoraInicio:t.horaInicio,Duration:t.horaFin}}),a("ActivityMoney",{attrs:{activityMoney:t.gastoActividad}})],1),a("ActivityFile"),a("ActivityNote",{attrs:{activityNote:t.comentario}})],1)])],1)},Xe=[],Ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"activitie__title"},[t.ActivityTitle!==t.activityFalse?a("h1",{on:{click:function(e){t.activityFalse=t.ActivityTitle,t.busqueda=t.ActivityTitle,t.observador()}}},[t._v(" "+t._s(t.ActivityTitle)+" ")]):a("form",{attrs:{name:"formulario",method:"post"}},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.busqueda,expression:"busqueda",modifiers:{trim:!0}}],staticClass:"activitie__title-input",attrs:{type:"text",id:"inputTitle"},domProps:{value:t.busqueda},on:{blur:[function(e){t.activityFalse=!1},function(e){return t.$forceUpdate()}],change:function(e){return e.preventDefault(),t.actualizarTitle(t.$route.params.ActivityId,t.busqueda)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.actualizarTitle(t.$route.params.ActivityId,t.busqueda))},input:function(e){e.target.composing||(t.busqueda=e.target.value.trim())}}})])])},ta=[],ea={methods:{obtenerPlanes:function(){var t=this;fetch(this.$store.state.URL_API_PLANES,{headers:{Authorization:this.$store.state.Authorization}}).then((function(t){return t.json()})).then((function(e){return t.$store.state.planes=e.records})).then((function(){return t.verSiHayActividades()}))},verSiHayActividades:function(){var t=this;this.$store.state.planesActividad=this.$store.state.planes.filter((function(e){return e.fields.Viajes[0]===t.$store.state.IdTravel}))}}},aa={name:"TravelTitle",props:{ActivityTitle:String},data:function(){return{activityFalse:!1,busqueda:""}},methods:{actualizarTitle:function(t,e){var a=this;this.ActivityFalse=!1,fetch(this.$store.state.URL_API_PLANES_CREATE,{headers:{Authorization:this.$store.state.Authorization,"Content-type":"application/json"},method:"PATCH",body:JSON.stringify({records:[{id:t,fields:{NombreActividad:e}}]})}).then((function(){return a.obtenerPlanes()}))},focused:function(){this.activityFalse===this.ActivityTitle&&document.getElementById("inputTitle").focus()},observar:function(){var t={root:null,rootMargin:"0px",threshold:1},e=new IntersectionObserver(this.focused,t);e.observe(document.querySelector("#inputTitle"))},observador:function(){setTimeout(this.observar,100)}},mixins:[ea]},ia=aa,na=Object(c["a"])(ia,Ke,ta,!1,null,null,null),sa=na.exports,ra=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"activitie__options"},[a("i",{staticClass:"icon-clock"}),a("date-picker",{attrs:{"minute-step":1,"hour-options":t.hours,format:"HH:mm","value-type":"format",type:"time",placeholder:t.HoraInicio},on:{change:function(e){return t.actualizarHoraInicio(t.$route.params.ActivityId)}},model:{value:t.ActivityHoraInicio,callback:function(e){t.ActivityHoraInicio=e},expression:"ActivityHoraInicio"}})],1)},oa=[],ca=(a("a630"),a("3ca3"),{name:"ActivityHoraInicio",components:{DatePicker:ae["default"]},props:{HoraInicio:String},data:function(){return{ActivityHoraInicio:null,hours:Array.from({length:24}).map((function(t,e){return e}))}},methods:{actualizarHoraInicio:function(t){var e=this;fetch(this.$store.state.URL_API_PLANES_CREATE,{headers:{Authorization:this.$store.state.Authorization,"Content-type":"application/json"},method:"PATCH",body:JSON.stringify({records:[{id:t,fields:{HoraInicio:this.ActivityHoraInicio}}]})}).then((function(){return e.obtenerPlanes()}))}},mixins:[ea]}),la=ca,ua=Object(c["a"])(la,ra,oa,!1,null,null,null),da=ua.exports,va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"activitie__options"},[a("i",{staticClass:"icon-sand"}),a("date-picker",{attrs:{"time-picker-options":{start:t.HoraInicio,step:"00:05",end:"24:00"},format:"HH:mm",type:"time",placeholder:t.tiempoDuraActividad()},on:{change:function(e){return t.actualizarDuration(t.$route.params.ActivityId)}},model:{value:t.ActivityDuration,callback:function(e){t.ActivityDuration=e},expression:"ActivityDuration"}})],1)},ha=[],fa=a("5526"),ma={name:"ActivityHoraInicio",components:{DatePicker:ae["default"]},props:{HoraInicio:String,Duration:String},data:function(){return{ActivityDuration:null}},methods:{formatearHora:function(){var t=Object(je["a"])(new Date(this.ActivityDuration),"HH:mm");return t},tiempoDuraActividad:function(){var t=parseInt(this.HoraInicio.split(":")[0]),e=parseInt(this.Duration.split(":")[0]),a=parseInt(this.HoraInicio.split(":")[1]),i=parseInt(this.Duration.split(":")[1]),n=e-t,s=i-a,r=Object(fa["a"])({hours:n,minutes:s},{zero:!0,locale:F["es"]});return"Duración: "+r},actualizarDuration:function(t){var e=this;fetch(this.$store.state.URL_API_PLANES_CREATE,{headers:{Authorization:this.$store.state.Authorization,"Content-type":"application/json"},method:"PATCH",body:JSON.stringify({records:[{id:t,fields:{HoraFIn:this.formatearHora()}}]})}).then((function(){return e.obtenerPlanes()}))}},mixins:[ea]},pa=ma,_a=Object(c["a"])(pa,va,ha,!1,null,null,null),ba=_a.exports,ya=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"activitie__options"},[a("i",{staticClass:"icon-money"}),t.activityMoney!==t.ActivityFalse?a("span",{staticClass:"single-travel__wallet",on:{click:function(e){t.ActivityFalse=t.activityMoney,t.busqueda=t.ActivityFalse,t.gastosCero(),t.observador()}}},[t._v(" "+t._s(t.activityMoney+" €")+" ")]):a("form",{attrs:{name:"formulario",method:"post"}},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.busqueda,expression:"busqueda",modifiers:{trim:!0}}],attrs:{type:"text",id:"inputTitle",placeholder:"0.00 €"},domProps:{value:t.busqueda},on:{blur:[function(e){t.ActivityFalse=!1},function(e){return t.$forceUpdate()}],change:function(e){return e.preventDefault(),t.actualizarGastos(t.$route.params.ActivityId,t.busqueda)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.actualizarGastos(t.$route.params.ActivityId,t.busqueda))},input:function(e){e.target.composing||(t.busqueda=e.target.value.trim())}}})])])},ga=[],Aa={name:"ActivityMoney",props:{activityMoney:String},data:function(){return{ActivityFalse:!1,busqueda:null}},methods:{dejarSoloNumeros:function(){return this.busqueda=this.busqueda.replace(/([^0-9.]+)/g,""),this.busqueda=this.busqueda.replace(/^[.]/,""),this.busqueda=this.busqueda.replace(/[.][.]/g,""),this.busqueda=this.busqueda.replace(/\.(\d)(\d)(\d)/g,".$1$2"),this.busqueda=this.busqueda.replace(/\.(\d{1,2})\./g,".$1"),this.busqueda=this.busqueda.toString().split("").reverse().join("").replace(/(\d{3})/g,"$1"),this.busqueda=this.busqueda.split("").reverse().join("").replace(/^[,]/,""),this.busqueda},actualizarGastos:function(t,e){var a=this;this.ActivityFalse=!1,fetch(this.$store.state.URL_API_PLANES_CREATE,{headers:{Authorization:this.$store.state.Authorization,"Content-type":"application/json"},method:"PATCH",body:JSON.stringify({records:[{id:t,fields:{GastoActividad:e}}]})}).then((function(){return a.obtenerPlanes()}))},focused:function(){this.ActivityFalse===this.activityMoney&&document.getElementById("inputTitle").focus()},observar:function(){var t={root:null,rootMargin:"0px",threshold:1},e=new IntersectionObserver(this.focused,t);e.observe(document.querySelector("#inputTitle"))},observador:function(){setTimeout(this.observar,100)},gastosCero:function(){null===this.busqueda||""===this.busqueda||"0.00"===this.busqueda||"Gastos"===this.busqueda?this.busqueda="":this.busqueda=this.activityMoney}},mixins:[ea],watch:{busqueda:function(){this.dejarSoloNumeros()}}},Ca=Aa,$a=Object(c["a"])(Ca,ya,ga,!1,null,null,null),Ia=$a.exports,ja=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"activitie__note"},[a("i",{staticClass:"icon-clipboard"}),t.activityNote!==t.activityFalse?a("span",{on:{click:function(e){t.activityFalse=t.activityNote,t.busqueda=t.activityNote,t.observador()}}},[t._v(" "+t._s(t.notaVacia())+" ")]):a("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.busqueda,expression:"busqueda",modifiers:{trim:!0}}],staticClass:"activitie__textarea",attrs:{id:"inputTitle"},domProps:{value:t.busqueda},on:{blur:[function(e){t.activityFalse=!1},function(e){return t.$forceUpdate()}],change:function(e){return e.preventDefault(),t.actualizarNote(t.$route.params.ActivityId,t.busqueda)},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.actualizarNote(t.$route.params.ActivityId,t.busqueda))},input:function(e){e.target.composing||(t.busqueda=e.target.value.trim())}}})])},Ta=[],Ea={name:"ActivityNote",props:{activityNote:String},data:function(){return{activityFalse:!1,busqueda:""}},methods:{actualizarNote:function(t,e){var a=this;this.ActivityFalse=!1,fetch(this.$store.state.URL_API_PLANES_CREATE,{headers:{Authorization:this.$store.state.Authorization,"Content-type":"application/json"},method:"PATCH",body:JSON.stringify({records:[{id:t,fields:{Comentario:e}}]})}).then((function(){return a.obtenerPlanes()}))},focused:function(){this.activityFalse===this.activityNote&&document.getElementById("inputTitle").focus()},observar:function(){var t={root:null,rootMargin:"0px",threshold:1},e=new IntersectionObserver(this.focused,t);e.observe(document.querySelector("#inputTitle"))},observador:function(){setTimeout(this.observar,100)},notaVacia:function(){return 0===this.activityNote.length?"Nota o comentario":this.activityNote}},mixins:[ea]},Oa=Ea,Sa=Object(c["a"])(Oa,ja,Ta,!1,null,null,null),Da=Sa.exports,qa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"activitie__icon"},[a("span",{on:{click:function(e){t.$store.commit("optionsIconON"),t.$store.commit("actionsON")}}},[t._v(" "+t._s(t.icono)+" ")]),t._v("️ "),t.$store.state.displayOptionsIcon?a("ActivityEditIcon"):t._e()],1)},Pa=[],ka=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"actions",class:{actions__noshow:t.$store.state.displayActions}},[t._m(0),a("section",{staticClass:"actions__body"},[a("div",{staticClass:"actions__ind-img"},t._l(t.$store.state.resultadosIcon,(function(e,i){return a("div",{key:i,staticClass:"activitie__icon-ind",on:{click:function(a){t.actualizarIcon(t.$route.params.ActivityId,e.character),t.cerrarAcciones()}}},[a("p",[t._v(t._s(e.character))])])})),0)]),a("section",{staticClass:" formu__btn container"},[a("button",{staticClass:"btn-outline",on:{click:function(e){return t.cerrarAcciones()}}},[t._v(" Hecho ")])])])},Fa=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"actions__header"},[a("div",{staticClass:"header"},[a("div",{staticClass:"header__title"},[a("h3",[t._v("Editar Icono")])])])])}],xa={name:"ActivityEditIcon",mixins:[ea],methods:{actualizarIcon:function(t,e){var a=this;fetch(this.$store.state.URL_API_PLANES_CREATE,{headers:{Authorization:this.$store.state.Authorization,"Content-type":"application/json"},method:"PATCH",body:JSON.stringify({records:[{id:t,fields:{Icono:e}}]})}).then((function(){return a.obtenerPlanes()}))},obtenerResultados:function(){var t=this;fetch("https://emoji-api.com/emojis?access_key=de26b2e6b4d315ad2482d4e54a0766e4d6fdb288").then((function(t){return t.json()})).then((function(e){t.$store.state.resultadosIcon=e}))},cerrarAcciones:function(){var t=this,e=document.querySelectorAll(".actions");e.forEach((function(){t.$store.commit("actionsOFF"),setTimeout((function(){t.$store.commit("optionsIconOFF")}),1e3)}))}},mounted:function(){0===this.$store.state.resultadosIcon.length&&this.obtenerResultados()}},Na=xa,wa=Object(c["a"])(Na,ka,Fa,!1,null,null,null),za=wa.exports,La={name:"ActivityIcon",props:{icono:String},components:{ActivityEditIcon:za},mixins:[q]},Ha=La,Ma=Object(c["a"])(Ha,qa,Pa,!1,null,null,null),Ua=Ma.exports,Va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("button",{staticClass:"btn_changeImg",on:{click:function(e){t.$store.commit("optionsImgON"),t.$store.commit("actionsON")}}},[t._v(" Opciones ")]),t.$store.state.displayOptionsImg?a("ActivityOptionsDelete",{attrs:{ActivityId:t.ActivityId}}):t._e()],1)},Ra=[],Ba=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"actions",class:{actions__noshow:t.$store.state.displayActions}},[t._m(0),a("section",{staticClass:"actions__body"},[a("div",{staticClass:"actions__duo"},[a("button",{staticClass:"actions__ind",on:{click:function(e){return t.borrarActividad()}}},[a("i",{staticClass:"icon-trash"}),a("h3",[t._v("Eliminar")])])])]),a("section",{staticClass:" formu__btn container"},[a("button",{staticClass:"btn-outline",on:{click:function(e){return t.cerrarAcciones()}}},[t._v(" Hecho ")])])])},Ga=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"actions__header"},[a("div",{staticClass:"header"},[a("div",{staticClass:"header__title"},[a("h3",[t._v("Opciones actividad")])])])])}],Ja={name:"OptionsImage",props:{ActivityId:String},mixins:[Fe],methods:{borrarActividad:function(){var t=this;fetch(this.$store.state.URL_API_PLANES_DELETE.concat(this.ActivityId),{headers:{Authorization:this.$store.state.Authorization},method:"DELETE"}).then((function(t){return t.json()})),this.$store.state.activityDays=this.$store.state.activityDays.filter((function(e){return e.id!==t.ActivityId})),this.cerrarAcciones(),this.obtenerPlanes(),this.$router.go(-1)},cerrarAcciones:function(){var t=this,e=document.querySelectorAll(".actions");e.forEach((function(){t.$store.commit("actionsOFF"),setTimeout((function(){t.$store.commit("optionsImgOFF")}),1e3)}))}}},Ya=Ja,Wa=Object(c["a"])(Ya,Ba,Ga,!1,null,null,null),Za=Wa.exports,Qa={name:"TravelImage",props:{ActivityId:String},components:{ActivityOptionsDelete:Za},mixins:[q]},Xa=Qa,Ka=Object(c["a"])(Xa,Va,Ra,!1,null,null,null),ti=Ka.exports,ei=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ai=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"activitie__file-upload"},[a("i",{staticClass:"icon-file-upload"}),a("input",{attrs:{type:"file",placeholder:"Archivo"}})])}],ii={name:"ActivityFile",props:{},data:function(){return{}},methods:{},mixins:[ea]},ni=ii,si=Object(c["a"])(ni,ei,ai,!1,null,null,null),ri=si.exports,oi={name:"ActivitySingle",components:{BackBottonBlack:Ge,ActivityTitle:sa,ActivityHoraInicio:da,ActivityDuration:ba,ActivityMoney:Ia,ActivityNote:Da,ActivityIcon:Ua,ActivityOptions:ti,ActivityFile:ri},computed:{activitySingle:function(){var t=this;return this.$store.state.planesActividad.filter((function(e){return e.id===t.$route.params.ActivityId}))[0].fields},nombre:function(){return this.activitySingle.NombreActividad},icono:function(){return this.activitySingle.Icono},horaInicio:function(){return this.activitySingle.HoraInicio},horaFin:function(){return this.activitySingle.HoraFIn},gastoActividad:function(){return this.activitySingle.GastoActividad},comentario:function(){return this.activitySingle.Comentario}},data:function(){return{planes:this.$store.state.planesActividad}},watch:{planes:function(){this.activitySingle()}}},ci=oi,li=Object(c["a"])(ci,Qe,Xe,!1,null,null,null),ui=li.exports,di=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},vi=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about container plan__container-activities"},[a("h1",[t._v("😀")]),a("h1",[t._v("Aqui ira el registro en la siguiente semana ")])])}],hi={name:"User",components:{},data:function(){return{}}},fi=hi,mi=Object(c["a"])(fi,di,vi,!1,null,null,null),pi=mi.exports;i["a"].use(b["a"]);var _i=[{path:"/",name:"Home",component:Ct},{path:"/about/",name:"About",component:Et},{path:"/user/",name:"User",component:pi},{path:"/travel/:travelId",name:"TravelSingle",component:qe},{path:"/travelPlan/:travelId",name:"TravelPlan",component:Ze},{path:"/ActivitySingle/:ActivityId",name:"ActivitySingle",component:ui}],bi=new b["a"]({routes:_i}),yi=bi,gi=a("2f62");i["a"].use(gi["a"]);var Ai=new gi["a"].Store({state:{displayHeader:!0,displayNoDate:!1,displayPasat:!1,displayActions:!0,displayOptionsImg:!1,displayOptionsIcon:!1,restoreCronometro:!1,viajes:[],viajesPasados:[],viajesFuturos:[],viajesSinFechas:[],viajesPresentes:[],planes:[],planesActividad:[],diasActividad:[],activityDays:[],resultadosIcon:[],IdTravel:"",diaInicialActividades:0,URL_API:"https://api.airtable.com/v0/app1Myyzo3nnkGOPj/Viajes?view=Grid%20view",URL_UPDATE:"https://api.airtable.com/v0/app1Myyzo3nnkGOPj/Viajes",URL_DELETE:"https://api.airtable.com/v0/app1Myyzo3nnkGOPj/Viajes?records[]=",Authorization:"Bearer keypFgW9ql6PGevJQ",URL_API_PLANES:"https://api.airtable.com/v0/app1Myyzo3nnkGOPj/PlanViaje?view=Grid%20view",URL_API_PLANES_CREATE:"https://api.airtable.com/v0/app1Myyzo3nnkGOPj/PlanViaje",URL_API_PLANES_DELETE:"https://api.airtable.com/v0/app1Myyzo3nnkGOPj/PlanViaje?records[]="},getters:{},mutations:{noDateATrue:function(t){t.displayNoDate=!0},pasatATrue:function(t){t.displayPasat=!0},actionsON:function(t){t.displayActions=!1},actionsOFF:function(t){t.displayActions=!0},optionsImgON:function(t){t.displayOptionsImg=!0},optionsImgOFF:function(t){t.displayOptionsImg=!1},optionsIconON:function(t){t.displayOptionsIcon=!0},optionsIconOFF:function(t){t.displayOptionsIcon=!1},restoreCrono:function(t){t.restoreCronometro=!0,setTimeout((function(){t.restoreCronometro=!1}),200)}},actions:{},modules:{}});i["a"].config.productionTip=!1,new i["a"]({router:yi,store:Ai,render:function(t){return t(_)}}).$mount("#app")}});
//# sourceMappingURL=app.96957daf.js.map